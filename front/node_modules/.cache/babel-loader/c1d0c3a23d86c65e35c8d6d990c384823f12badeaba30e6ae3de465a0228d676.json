{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useRecoilValue}from\"recoil\";import{userState}from\"../atoms/userAtom\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ArrangementPage(){const user=useRecoilValue(userState);const[recommendedTrips,setRecommendedTrips]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{if(!(user!==null&&user!==void 0&&user.id))return;fetch(\"/api/travel/user/\".concat(user.id)).then(res=>res.json()).then(data=>{setRecommendedTrips(data);setLoading(false);}).catch(err=>{console.error(\"Îç∞Ïù¥ÌÑ∞ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\",err);setLoading(false);});},[user]);const renderTrips=trips=>/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-6 md:grid-cols-2 pb-10\",children:trips.map(trip=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigate(\"/accessible-travel\",{state:{recommendation:trip}}),className:\"cursor-pointer border rounded-lg p-6 shadow-sm bg-white hover:shadow-md transition\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-green-600 mb-2\",children:trip.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-3\",children:trip.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mb-2\",children:[\"\\uC0DD\\uC131\\uC77C: \",trip.created_at]}),trip.access&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:Object.entries(trip.access).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(value?\"bg-green-100 text-green-700\":\"bg-gray-200 text-gray-500 line-through\"),children:key},key);})})]},trip.id))});return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto mt-10 px-4\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold mb-6\",children:[user.name,\"\\uB2D8\\uC758 \\uC5EC\\uD589 \\uAE30\\uB85D\"]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"\\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mt-8 mb-4\",children:\"\\uD83D\\uDC30 AI\\uC758 \\uCD94\\uCC9C \\uC5EC\\uD589\"}),recommendedTrips.length>0?renderTrips(recommendedTrips):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\uCD94\\uCC9C \\uBC1B\\uC740 \\uC5EC\\uD589\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useRecoilValue","userState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ArrangementPage","user","recommendedTrips","setRecommendedTrips","loading","setLoading","navigate","id","fetch","concat","then","res","json","data","catch","err","console","error","renderTrips","trips","className","children","map","trip","onClick","state","recommendation","title","description","created_at","access","Object","entries","_ref","key","value","name","length"],"sources":["/Users/jeong-yuyeong/Documents/GitHub/·Ñå·Ö©·ÜØ·Ñã·Ö•·Ü∏·Ñå·Ö°·Ü®·Ñë·ÖÆ·Ü∑/Barrier-FreeTrip/front/src/pages/ArrangementPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { userState } from \"../atoms/userAtom\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function ArrangementPage() {\n  const user = useRecoilValue(userState);\n  const [recommendedTrips, setRecommendedTrips] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!user?.id) return;\n\n    fetch(`/api/travel/user/${user.id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setRecommendedTrips(data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.error(\"Îç∞Ïù¥ÌÑ∞ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\", err);\n        setLoading(false);\n      });\n  }, [user]);\n\n  const renderTrips = (trips) => (\n    <div className=\"grid gap-6 md:grid-cols-2 pb-10\">\n      {trips.map((trip) => (\n        <div\n          key={trip.id}\n          onClick={() => navigate(`/accessible-travel`, { state: { recommendation: trip } })}\n          className=\"cursor-pointer border rounded-lg p-6 shadow-sm bg-white hover:shadow-md transition\"\n        >\n          <h2 className=\"text-2xl font-semibold text-green-600 mb-2\">\n            {trip.title}\n          </h2>\n          <p className=\"text-gray-700 mb-3\">{trip.description}</p>\n          <p className=\"text-sm text-gray-500 mb-2\">\n            ÏÉùÏÑ±Ïùº: {trip.created_at}\n          </p>\n          {trip.access && (\n            <div className=\"flex flex-wrap gap-2\">\n              {Object.entries(trip.access).map(([key, value]) => (\n                <span\n                  key={key}\n                  className={`px-3 py-1 rounded-full text-sm font-medium ${\n                    value\n                      ? \"bg-green-100 text-green-700\"\n                      : \"bg-gray-200 text-gray-500 line-through\"\n                  }`}\n                >\n                  {key}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className=\"max-w-5xl mx-auto mt-10 px-4\">\n      <h1 className=\"text-3xl font-bold mb-6\">{user.name}ÎãòÏùò Ïó¨Ìñâ Í∏∞Î°ù</h1>\n      {loading ? (\n        <p>Î∂àÎü¨Ïò§Îäî Ï§ë...</p>\n      ) : (\n        <>\n          <h2 className=\"text-2xl font-semibold mt-8 mb-4\">üê∞ AIÏùò Ï∂îÏ≤ú Ïó¨Ìñâ</h2>\n          {recommendedTrips.length > 0 ? (\n            renderTrips(recommendedTrips)\n          ) : (\n            <p className=\"text-gray-500\">Ï∂îÏ≤ú Î∞õÏùÄ Ïó¨ÌñâÏù¥ ÏóÜÏäµÎãàÎã§.</p>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}